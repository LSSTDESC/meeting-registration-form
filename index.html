<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>DESC registration form</title>

  <link rel='stylesheet prefetch'
    href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css'>
  <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Raleway:400,400i,700'>
  <style>
    body {
      margin-top: 2%;
      margin-bottom: 0px;
      /* Margin bottom by footer height */
    }

    .outer {
      width: 1000px;
      margin: 0 auto;
    }

    .inner {
      margin-left: 5%;
    }

    .footer {
      margin-top: 40px;
      width: 100%;
      background-color: #f5f5f5;
    }

    #registrationModal .modal-dialog {
      width: 1000px;
      max-width: 2048px;
    }

    .embed-responsive {
      max-height: calc(100vh - 225px);
    }

    /*
#registrationModal .modal-footer {
  justify-content: space-between;
} */
    /* Hides the badge and in-person info until people
   sign up for in-person attendance.
 */
    #in_person_info {
      display: none;
    }

    #volunteer_section {
      display: none;
    }

    #badge span {
      font-family: "Raleway";
    }

    #badge {
      position: relative;
      margin: 0 auto;
      width: 4in;
      height: 3in;
      border: 1px solid black;
    }

    #badge div {
      white-space: nowrap;
      text-align: center;
      width: 100%;
      position: absolute;
      line-height: 0.8;
    }

    #lname-d,
    #sname-d {
      font-weight: bold;
    }

    #lname-d {
      font-size: 68pt;
      bottom: 2.05in;
    }

    #sname-d {
      font-size: 26pt;
      font-weight: bold;
      bottom: 1.55in;
    }

    #affili-d,
    #pronoun-d {
      font-size: 22pt;
      bottom: 1.08in;
    }

    #pronoun-d {
      font-style: italic;
      bottom: 0.64in;
    }

    #event-d,
    #location-d {
      font-size: 7pt;
      bottom: 0.29in;
      left: 0.025in;
    }

    #location-d {
      bottom: 0.15in;
    }

    #logo1 {
      width: 92px !important;
      height: 61px;
      background-image: url("https://raw.githubusercontent.com/LSSTDESC/name-tag-guru/master/web-static/desc-logo.png");
      bottom: 0.02in;
      left: 0.1in;
    }

    #logo2 {
      width: 64px !important;
      height: 22px;
      background-image: url("https://raw.githubusercontent.com/LSSTDESC/name-tag-guru/master/web-static/lsstc-logo.png");
      bottom: 0.15in;
      right: 0.2in;
    }
  </style>

</head>

<body>
  <div class="container">
    <h2>Registration for the February 2026 DESC Collaboration Meeting</h2>
    <h4>Monday - Friday, February 23-27, 2026</h4>
    <br>
    Please join the Discovery Alliance Slack channel <a href="https://lsstc.slack.com/archives/C90AMAG80"
      target="_blank" rel="noopener noreferrer">#desc-collab-meeting</a> to keep updated on chats, discussions, and announcements during the
    meeting.
    <br>
      See also the <a href="https://confluence.slac.stanford.edu/x/rJ6QIw">main meeting page</a> for more information, including a link to the developing agenda.
     <br>
    <br>
    <form action="" method="POST" id="main_form">
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="first_name">First Name</label>
          <input type="text" class="form-control" name="first_name" id="first_name" placeholder="First Name"
            maxlength="100" required>
          <div class="invalid-feedback">Please provide your first name.</div>
        </div>
        <div class="form-group col-md-6">
          <label for="last_name">Last Name</label>
          <input type="text" class="form-control" name="last_name" id="last_name" placeholder="Last Name"
            maxlength="100" required>
          <div class="invalid-feedback">Please provide your last name.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" name="email" id="email" placeholder="Email" maxlength="100" required>
        <div class="invalid-feedback">
          Invalid email or already registered.
        </div>
      </div>
      <div class="form-group">
        <label for="affili">Affiliation</label>
        <input type="text" class="form-control" name="affiliation" id="affili" placeholder="Affiliation" maxlength="100"
          required>
        <div class="invalid-feedback">Please provide your affiliation.</div>
      </div>

      <hr>

      <h5>In-person or Remote?</h5>
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="in_person" name="in_person">
          <label class="form-check-label" for="in_person">
            <b>Check if you plan to attend in person</b>
          </label>
        </div>
      </div>

      <!-- The entire in_person_info block is hidden until people click the
	   in-person attendance button -->
      <div id="in_person_info">
	<input type="hidden" name="site" id="site" value="UI">
	    
        <h5>Badge Text</h5>
        <div class="row">
          <div class="col-sm">
            <div class="form-group">
              <label for="lname">Large-font name</label>
              <input type="text" class="form-control" name="lname" id="lname"
                placeholder="optional, defaults to first name" maxlength="100">
            </div>
            <div class="form-group">
              <label for="sname">Small-font name</label>
              <input type="text" class="form-control" name="sname" id="sname"
                placeholder="optional, defaults to last name" maxlength="100">
            </div>
            <div class="form-group">
              <label for="pronoun">Third-person pronoun</label>
              <input type="text" class="form-control" name="pronoun" id="pronoun"
                placeholder="e.g. she/her, he/him, they/them" maxlength="100">
              <small id="inputPronounHelp" class="form-text text-muted">Third-person pronoun you want people to use to
                refer to you, such as: they/she/he/ze, or simply just your names.
                You can also say "no preference" or just enter a space.
                <a href="https://confluence.slac.stanford.edu/display/LSSTDESC/Personal+Pronouns"
                   target="_blank" rel="noopener noreferrer">Why ask
                  for pronouns ?</a></small>
              <div class="invalid-feedback">Please provide your choice of pronoun.</div>
            </div>  <!-- end of pronoun group -->
          </div>  <!-- end of col-sm -->
	  <!-- Following section renders the badge -->
          <div class="col-sm">
            <div id="badge">
              <div id="lname-d">
                <span id="lname-s"></span>
              </div>
              <div id="sname-d">
                <span id="sname-s"></span>
              </div>
              <div id="affili-d">
                <span id="affili-s"></span>
              </div>
              <div id="pronoun-d">
                <span id="pronoun-s"></span>
              </div>
              <div id="event-d">
                <span id="event-s">Collaboration Meeting, July 21-25, 2025</span>
              </div>
              <div id="location-d">
                <span id="location-s">U. of Illinois/ACP/ICTP-ASIFR</span>
              </div>
              <div id="logo1" class="logo"></div>
            </div>   <!-- closes id="badge" -->
          </div>  <!-- closes class="col-sm" -->
        </div>   <!-- closes class="row" -->
	
      <div id="more_in_person">  <!-- Other in-person stuff -->
        <h5>COVID Safety</h5>
	<p>The University of Illinois no longer requires testing or masking for
	COVID-19, but advises people to follow
	<a href="https://www.cdc.gov/covid/prevention/index.html" target="_blank"
	   rel="noopener noreferrer">current CDC guidelines</a>, and to be
	aware of these
	<a href="https://www.cdc.gov/respiratory-viruses/prevention/precautions-when-sick.html" target="_blank" rel="noopener noreferrer">
	  CDC guidelines on the spread of respiratory viruses</a>.</p>
	  <p>If you feel you are developing symptoms and wish to test, you can
	  obtain a test kit at
	  <a href="https://mckinley.illinois.edu/get-healthcare/flucovidresources"
	     target="_blank" rel="noopener noreferrer">these locations</a>.</p>

	<div  id="UI_info">
	  <h5>Attendance/Participation</h5>
	  <div class="form-group">
	    <div class="form-check">
	      <input class="form-check-input" type="checkbox" id="de_school" name="de_school">
	      <label class="form-check-label" for="de_school">
		<b>Check if you plan to attend DE School in person</b>
	      </label>
	    </div>
	  </div>
	  <div class="form-group">
	    <div class="form-check">
	      <input class="form-check-input" type="checkbox" id="sprint" name="sprint">
	      <label class="form-check-label" for="de_school">
		<b>Check if you plan to attend Sprint Day in person</b>
	      </label>
	    </div>
	  </div>
	  <div class="form-group">
	    <div class="form-check">
	      <input class="form-check-input" type="checkbox" id="poster" name="poster">
	      <label class="form-check-label" for="de_school">
		<b>Check if you plan to present a poster</b>
	      </label>
	    </div>
	  </div>
	
	<h5>Collaboration dinner</h5>
	<p>The Collaboration dinner will be held on Wednesday, July 23.
	There is no fee for particiapants; cost is included in registration.
	Early career attendees will also be invited to attend  JuDO dinner
	on Tuesday, July 22.</p>
        </div>     <!-- end UI_info -->

      </div> <!-- container -->

    </div>

  <hr>
	
	<h5>DESC Meeting Contact Persons</h5>

      As described in the <a href="https://lsstdesc.org/sites/default/files/LSST_DESC_Professional_Conduct.pdf#page=6"
        target="_blank" rel="noopener noreferrer">DESC Meeting Contact Person Policy</a>, Meeting Contact Persons (MCPs) will be available (by
      Zoom and Slack) to
      meeting participants and be afforded the authority to take action to resolve disputes, conflicts, or harmful
      situations.
      MCPs will be selected from eligible participants, and be appointed by the Collaboration Council and the Management
      Team. All MCP appointments will be confirmed and scheduled with candidates before the meeting.

      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="contact" name="contact">
          <label class="form-check-label" for="contact">
            <b>Check if you do NOT wish to be considered for the role of an MCP.</b>
          </label>
        </div>
      </div>

      

      <hr>
      <h5>Session Facilitators</h5>
      Special opportunity!
      You (as a meeting participant) can help ensure the success of this meeting by enrolling as a Session Facilitator
      for one or two sessions; this would involve, e.g., monitoring the chat window or raised hands in the participant
      list on Zoom, and generally helping where needed, whether you are
      in-person or remote.
      For a quick look at what's involved, see the
      <a href='https://docs.google.com/document/d/1HRU_1hApNuvmBxBLkygH54-EvGmfl2emlYinQrvppzs/edit?usp=sharing'
         target="_blank" rel="noopener noreferrer">Session
        Facilitator's Cheat Sheet</a>
      New/junior members are especially encouraged to take advantage of this opportunity as it will help gain
      familiarity within the DESC community.
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="volunteer" name="volunteer">
          <label class="form-check-label" for="volunteer">
            <b>Yes, I definitely want to help out!</b>
          </label>
        </div>
      </div>

      <div class="container" id="volunteer_section">
        <div class="form-group">
          <label for="wg_sessions">Please indicate potential session topics for which you would be interested in
            facilitating a session. We will try our best to match your preference when possible.</label>
          <div id="wg_sessions">

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="CL" id="CL">
              <label class="form-check-label" for="CL">CL: Clusters of Galaxies</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="CO" id="CO">
              <label class="form-check-label" for="CO">CO: Computing</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="CSS" id="CSS">
              <label class="form-check-label" for="CSS">CSS: Cosmological and Survey Simulations</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="DKM" id="DKM">
              <label class="form-check-label" for="DKM">DKM: Dark Matter</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="MCP" id="MCP">
              <label class="form-check-label" for="MCP">MCP: Modeling &amp; Combined Probes</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="PLC" id="PLC">
              <label class="form-check-label" for="PLC">PLC: Pixels to Light Curves </label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="PO" id="PO">
              <label class="form-check-label" for="PSF">PO: Pixels to Objects</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="PZ" id="PZ">
              <label class="form-check-label" for="PZ">PZ: Photometric Redshifts</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="SA" id="SA">
              <label class="form-check-label" for="SA">SA: Sensor Anomalies</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="SC" id="SC">
              <label class="form-check-label" for="SC">SC: Survey Coordination</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="SRV" id="SRV">
              <label class="form-check-label" for="SRV">SRV: Science Release &amp; Validation</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="TD" id="TD">
              <label class="form-check-label" for="TD">TD: Time Domain</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="WLSS" id="WLSS">
              <label class="form-check-label" for="WLSS">WLSS: Weak Lensing/LSS</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" name="Social" id="Social">
              <label class="form-check-label" for="Social">Social Events</label>
            </div>

          </div>

        </div>
      </div>

      <hr>

      <h5>Speed Chat</h5>
      <p>This is a networking opportunity for early career members (student or postdoc) to "speed chat"
        with DESC Leadership members (DL), Pipeline Scientists (PS), and
        Computing Infrastructure (CI) team members. Each chat is ~5 minutes
        (one-on-one) with a randomly assigned DL, PS, or CI. There will be
        several rounds of chats within a dedicated parallel session.
      </p>
      <ul>
        <li>If you are an early career member, <b> would you like to sign up </b> for a
          "speed chat" with Pipeline Scientists/Computing Infrastructure
          team members/DESC Leadership members?
          <div class="form-group">
            <div>
              <div class="form-check form-check-inline" id="inputSpeedchat">
                <input class="form-check-input" type="checkbox" name="speedchat" id="speedchat_yes" value="yes">
                <label class="form-check-label" for="speedchat_yes">Yes, please!</label>
              </div>
            </div>
          </div>
        </li>
      </ul>
      <hr>
      <h5>Accessibility and Accommodations</h5>
      <p>If you require any additional accommodations (e.g., closed captions,
        alt-text for screen readers, etc), please fill out
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdmk06kahjTjbdRd8uuYydPqP-ALY10vBVrZci7uyVwltXFHg/viewform?usp=header"
	   target="_blank" rel="noopener noreferrer">this anonymous form.</a>
	<!--
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSeES7HZylmSQcTuMk1GLy6u3mvsssuK4aB-DmdRoBlxOxMmcw/viewform?usp=sharing" target="_blank" rel="noopener noreferrer">this anonymous form.</a> -->
      </p>
      <hr>
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="recording" id="recording" required>
          <label class="form-check-label" for="recording">
            All the plenary sessions will be recorded and recordings will be posted to DESC Confluence. As a presenter
            or participant of the meeting, I understand that what I say, with my microphone turned on, may be recorded.
            (All participants will be informed in Zoom when they are joining a session that is being recorded.
            Organizers of parallel sessions will be asked to consider the preferences of the speakers. If you prefer
            your image not to appear, you are welcome to keep your video turned off.)
          </label>
          <div class="invalid-feedback">Please acknowledge that you may be recorded.</div>
        </div>
      </div>
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="code_of_conduct" id="code_of_conduct" required>
          <label class="form-check-label" for="code_of_conduct">
            I have read, and will abide by, the
            <a href="https://lsstdesc.org/assets/pdf/policies/LSST_DESC_Professional_Conduct.pdf"
               target="_blank" rel="noopener noreferrer"> DESC
              Meeting Code of Conduct</a>.
          </label>
          <div class="invalid-feedback">You must agree to the code of conduct before registering.</div>
        </div>
      </div>
      <div class="form-group" id="register_button">
        <button id="register" class="btn btn-primary" type="button">Register</button>
        <small class="form-text text-muted">Please disable ad or pop-up blockers if you encounter any difficulties with
          completing the registration.</small>
      </div>
      <input type="hidden" name="secret" id="secret" value="">
    </form>
  </div>

  <!-- Modal Warning-->
  <div class="modal fade" id="backendModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Invalid registration URL</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>The URL for this form does not contain a valid registration link.
            Please contact the Local Organizing Committee (LOC) for a valid registration URL.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!--
  <div class="modal fade" id="registrationClosedModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Registration is closed</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>The registration for this event is now closed.
            Please contact the LOC if you have any further inquiries.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  -->

  <!-- Confirmation Modal -->
  <div class="modal fade" id="confirmationModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Your Registration Information Has Been Received</h5>
        </div>
        <div class="modal-body" id="confirmation-content">
        </div>
      </div>
    </div>
  </div>


  <footer class="footer">
    <div class="container">
      <dl class="row">
        <span class="text-muted">
          <p class="lead">Privacy notice</p>
          <p>Your <mark>first name, last name, and affiliation will appear on a public
              <a href="https://desc-feb2026-collab-dev-fc7b16fe90a8.herokuapp.com/
                 target="_blank" rel="noopener noreferrer">webpage</a> </mark> linked in the
            meeting's confluence participants page. Your email will be used to contact you when necessary. All data
            collected here may be shared with LSST DESC
            members who are on the Local Organizing Committee (LOC), the Scientific Organizing Committee (SOC), the
            Meetings Committee, the Collaboration Council, and the Management Team.
          </p>
      </dl>
    </div>
  </footer>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js'></script>
  <script>
    // Callback to validate registration
    var checkoutCallback = function () {
      // Manually submit form data using Ajax and display confirmation modal
      $.ajax({
        type: 'POST',
        data: $("#main_form").serialize(),
        url: $("#main_form").attr('action'),
        success: function (data) {
          $("#confirmation-content").html(data);
          $("#confirmationModal").modal({
            show: true,
            backdrop: 'static',
            keyboard: false
            });
	  // Guessing something like this might go here
	  // Registration Successful so far, so let's proceed to payment
	  // document.getElementById("payment_form").submit()
        }
      });

    };

    document.getElementById("register").onclick = function (e) {
      checkoutCallback()

      e.preventDefault();
      return false;
    }

    // Validate the form before authorising checkout
    $(function () {
      document.getElementById("register_button").addEventListener("click", function (event) {
        var form = document.getElementById("main_form");

        // If form is not validated, don't trigger the registration
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, true);
    });

    // Function to disable the form if the backend is unavailable
    var getUrlParameter = function getUrlParameter(sParam) {
      var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

      for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
          return sParameterName[1] === undefined ? true : sParameterName[1];
        }
      }
    };

    var backend = getUrlParameter('backend');
    var secret = getUrlParameter('secret');

    $(function () {
      // Disable the form if the required info about backend server is missing
      if ((backend === undefined) || (secret === undefined)) {
        $("#main_form :input").prop('disabled', true);
        $('#backendModal').modal({
          show: true,
          backdrop: 'static',
          keyboard: false
        });
      }else{
//      // Enable this to close registration
//        $("#main_form :input").prop('disabled', true);
//        $('#registrationClosedModal').modal({
//          show: true,
//          backdrop: 'static',
//          keyboard: false
//        });	  
      }
      $("#main_form").attr('action', backend + '/register');
      $("#secret").attr('value', secret);
    });

    $("#email").change(function () {
      $.post(backend + "/check_email", {
          email: $(this).val(),
          secret: secret
        },
        function (data, status) {
          var d = document.getElementById("email");
          if (status === "success") {
            if (data === "Ok") {
              d.setCustomValidity("");
              d.classList.remove('is-invalid');
            } else {
              d.setCustomValidity("Already registered.");
              d.classList.add('is-invalid');
            }
          } else {
            // Server is unavailable...
            // make sure we don't block the form at this stage
            d.setCustomValidity("");
            d.classList.remove('is-invalid');
          }
          console.log("Data: " + data + "\nStatus: " + status);
        });
    });

    $("input").keyup(function () {
      var target = $("#" + $(this).attr("id") + "-s");
      target.text($(this).val());
      target.css("font-size", "100%");
      var badge = $("#badge");
      var scale = badge.width() / target.width();
      if (scale < 1) target.css("font-size", (scale * 100).toString() + "%");
    });
    $(document).ready(function () {
      $('#in_person').click(function () {
        $('#in_person_info').toggle(500);

        if (document.getElementById("in_person").checked) {
          document.getElementById("pronoun").required = true;
	  // Setting just one radio button to required should be sufficient
	  // but doesn't hurt to set them all
	  document.getElementById("UI").required = true
	  document.getElementById("APC").required = true
	  document.getElementById("ICTP-SAIFR").required = true

	  // Uncomment if we have covid rules
          // document.getElementById("covid_rules").required = true;

        } else {
          document.getElementById("pronoun").required = false;
	
	  document.getElementById("UI").required = false;	
	  document.getElementById("APC").required = false;
	  document.getElementById("ICTP-SAIFR").required = false;
          // document.getElementById("covid_rules").required = false;

        };

      });
    });

    $(document).ready(function () {
      $('#volunteer').click(function () {
        $('#volunteer_section').toggle(500);
      });
    });
  </script>

</body>

</html>
